/**
*
*   AceGrammar
*   @version: 0.6.2
*
*   Transform a grammar specification in JSON format, into an ACE syntax-highlight parser mode
*   https://github.com/foo123/ace-grammar
*
**/!function(t,e,n,r,i){var o="undefined"!=typeof global&&"[object global]"=={}.toString.call(global)?1:0,s=o||"undefined"==typeof navigator?0:1,l="function"==typeof importScripts&&navigator instanceof WorkerNavigator?1:0,u=Array,a=u.prototype,c=function(){var t=null;if(o)return t=__filename,{path:__dirname,file:__filename};if(l)t=self.location.href;else if(s){var e;(e=document.getElementsByTagName("script"))&&e.length&&(t=e[e.length-1].src)}return t?{path:t.split("/").slice(0,-1).join("/"),file:t}:{path:null,file:null}},f=c(),h=function(t,e){if(o)return e;if("."==e.charAt(0)){t=t.split("/"),e=e.split("/");var n,r=0,i=0,s=e.length,l=t.length;for(n=0;s>n;n++)if(/^\.\./.test(e[n]))r++,i++;else{if(!/^\./.test(e[n]))break;i++}r=r>=l?0:l-r,e=t.slice(0,r).concat(e.slice(i)).join("/")}return e};n=n?[].concat(n):[];var p,g,m,d=n.length,k=new u(d),v=new u(d),w=new u(d),y=new u(d);for(p=0;d>p;p++)k[p]=n[p][0],v[p]=n[p][1],w[p]=/\.js$/i.test(v[p])?h(f.path,v[p]):h(f.path,v[p]+".js");if("object"==typeof module&&module.exports){if(i===module.exports[e]){for(p=0;d>p;p++)y[p]=module.exports[k[p]]||require(w[p])[k[p]];g=r.apply(t,y),module.exports[e]=g||1}}else if("function"==typeof define&&define.amd)define(["exports"].concat(v),function(n){if(i===n[e]){for(var o=a.slice.call(arguments,1),s=o.length,l=0;s>l;l++)y[l]=n[k[l]]||o[l];g=r.apply(t,y),n[e]=g||1}});else if(l){for(p=0;d>p;p++)self[k[p]]||importScripts(w[p]),y[p]=self[k[p]];g=r.apply(t,y),self[e]=g||1}else if(i===t[e]){var R=function(t,e){m=m||document.getElementsByTagName("head")[0];var n=0,r=document.createElement("script");r.type="text/javascript",r.language="javascript",r.src=t,r.onload=r.onreadystatechange=function(){n||r.readyState&&"loaded"!=r.readyState&&"complete"!=r.readyState||(n=1,r.onload=r.onreadystatechange=null,m.removeChild(r),r=null,e&&e())},m.appendChild(r)},b=function(e,n,r){t[e]?r():R(n,r)},E=function(n){return function(){d>n&&(y[n]=t[k[n]]),++n<d?b(k[n],w[n],E(n)):(g=r.apply(t,y),t[e]=g||1)}};d?b(k[0],w[0],E(0)):(g=r.apply(t,y),t[e]=g||1)}}(this,"AceGrammar",[["Classy","./classy"],["RegExAnalyzer","./regexanalyzer"]],function(t,e){function n(){ace.define("ace/grammar_worker",["require","exports","module","ace/worker/mirror"],function(t,e){var n=t("./worker/mirror").Mirror;e.AceGrammarWorker=D(n,{constructor:function(t){var e=this;e.$super("constructor",t),e.setTimeout(500)},parser:null,Init:function(t,e){var n=this,i=n.sender;n.parser=je(Se(t),{DEFAULT:r,ERROR:o}),i.callback(1,e)},onUpdate:function(){var t,e,n,r,i,o,s,l,u,a=this,c=a.sender,f=a.parser,h=0;if(!f)return c.emit("ok",[]),void 0;if(t=a.doc.getValue(),!t||!t.length)return c.emit("ok",[]),void 0;for(r=[],e=f.parse(t),o=e.length,i=0;o>i;i++)if(n=e[i],n&&n.length)for(u=0,s=0;s<n.length;s++)l=n[s],f.ERR==l.type&&(r.push({row:i,column:u,text:l.error||"Syntax Error",type:"error",raw:l.error||"Syntax Error"}),h=1),u+=l.value.length;h?c.emit("error",r):c.emit("ok",[])}})})}var r,o,s=1/0,u=2,a=4,c=8,f=9,h=10,p=16,g=32,m=64,d=128,k=256,v=512,w=2,y=4,R=8,b=4,E=8,_=16,x=17,C=18,L=32,S=33,T=34,B=64,A=128,O=256,q=257,j=258,$=259,I=512,M=1024,U={ONEOF:B,EITHER:B,ALL:A,ZEROORONE:q,ZEROORMORE:j,ONEORMORE:$,REPEATED:O},N={BLOCK:L,COMMENT:T,ESCAPEDBLOCK:S,SIMPLE:_,GROUP:I,NGRAM:M},D=t.Class,K=Array.prototype,P=Object.prototype,z=K.slice,F=(K.splice,K.concat),W=P.hasOwnProperty,G=P.toString,Q=P.propertyIsEnumerable,V=Object.keys,Z=function(t){var e=typeof t,n=G.call(t);return"undefined"==e?k:"number"==e||t instanceof Number?u:null===t?d:!0===t||!1===t?a:t&&("string"==e||t instanceof String)?1==t.length?f:c:t&&("[object RegExp]"==n||t instanceof RegExp)?p:t&&("[object Array]"==n||t instanceof Array)?g:t&&"[object Object]"==n?m:v},H=function(t,e){return e||g!=Z(t)?[t]:t},J=function(t,e){return t=H(t,e),(e||g!=Z(t[0]))&&(t=[t]),t},X=function(t){var e,n=Z(t);if(!((m|g)&n))return t;var r,i={};for(r in t)W.call(t,r)&&Q.call(t,r)&&(e=Z(t[r]),i[r]=m&e?X(t[r]):g&e?t[r].slice():t[r]);return i},Y=function(){var t=z.call(arguments),e=t.length;if(1>e)return null;if(2>e)return X(t[0]);var n,r,i,o,s=t.shift(),l=X(s);for(e--,r=0;e>r;r++)if(n=t.shift())for(i in n)W.call(n,i)&&Q.call(n,i)&&(W.call(s,i)&&Q.call(s,i)?(o=Z(s[i]),m&~c&o&&(l[i]=Y(s[i],n[i]))):l[i]=X(n[i]));return l},te=function(t){return t.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},ee=function(t,e){var n,r,i,o;for(o=function(t,n){return e[1+parseInt(n,10)]},n=t.split("$$"),i=n.length,r=0;i>r;r++)n[r]=n[r].replace(/\$(\d{1,2})/g,o);return n.join("$")},ne=function(t,e){return e.length-t.length},re=function(t,e){return c&Z(e)&&c&Z(t)&&e.length&&e.length<=t.length&&e==t.substr(0,e.length)},ie=function(t,n,r){if(!t||u==Z(t))return t;var i=n?n.length||0:0;if(i&&n==t.substr(0,i)){var o,s,l,a="^("+t.substr(i)+")";return r[a]||(o=new RegExp(a),l=new e(o).analyze(),s=l.getPeekChars(),V(s.peek).length||(s.peek=null),V(s.negativepeek).length||(s.negativepeek=null),r[a]=[o,s]),r[a]}return t},oe=function(t,e){var n={},r="",i=Z(e);(c==i||f==i)&&(r=e);var o=t.sort(ne).map(function(t){return n[t.charAt(0)]=1,te(t)}).join("|");return[new RegExp("^("+o+")"+r),{peek:n,negativepeek:null},1]},se="undefined"!=typeof global&&"[object global]"=={}.toString.call(global)?1:0,le=se||"undefined"==typeof navigator?0:1,ue="function"==typeof importScripts&&navigator instanceof WorkerNavigator?1:0,ae=function(){var t=null;if(se)return t=__filename,{path:__dirname,file:__filename,root:__dirname};if(ue)t=self.location.href;else if(le){var e,n=document.location.href.split("#")[0].split("?")[0].split("/").slice(0,-1).join("/");(e=document.getElementsByTagName("script"))&&e.length&&(t=e[e.length-1].src)}return t?{path:t.split("/").slice(0,-1).join("/"),file:t,root:n}:{path:null,file:null,root:n}},ce=ae(),fe=D({constructor:function(t){this.string=t?""+t:"",this.start=this.pos=0,this._=null},_:null,string:"",start:0,pos:0,fromStream:function(t){return this._=t,this.string=""+t.string,this.start=t.start,this.pos=t.pos,this},toString:function(){return this.string},sol:function(){return 0==this.pos},eol:function(){return this.pos>=this.string.length},chr:function(t,e){var n=this.string.charAt(this.pos)||null;return n&&t==n?(!1!==e&&(this.pos+=1,this._&&(this._.pos=this.pos)),n):!1},chl:function(t,e){var n=this.string.charAt(this.pos)||null;return n&&-1<t.indexOf(n)?(!1!==e&&(this.pos+=1,this._&&(this._.pos=this.pos)),n):!1},str:function(t,e,n){var r=this.pos,i=this.string,o=i.charAt(r)||null;if(o&&e[o]){var s=t.length,l=i.substr(r,s);if(t==l)return!1!==n&&(this.pos+=s,this._&&(this._.pos=this.pos)),l}return!1},rex:function(t,e,n,r,i){var o=this.pos,s=this.string,l=s.charAt(o)||null;if(l&&e&&e[l]||n&&!n[l]){var u=s.slice(o).match(t);return!u||u.index>0?!1:(!1!==i&&(this.pos+=u[r||0].length,this._&&(this._.pos=this.pos)),u)}return!1},end:function(){return this.pos=this.string.length,this._&&(this._.pos=this.pos),this},nxt:function(){if(this.pos<this.string.length){var t=this.string.charAt(this.pos++)||null;return this._&&(this._.pos=this.pos),t}},bck:function(t){return this.pos-=t,0>this.pos&&(this.pos=0),this._&&(this._.pos=this.pos),this},bck2:function(t){return this.pos=t,0>this.pos&&(this.pos=0),this._&&(this._.pos=this.pos),this},spc:function(){for(var t=this.pos,e=this.pos,n=this.string;/[\s\u00a0]/.test(n.charAt(e));)++e;return this.pos=e,this._&&(this._.pos=this.pos),this.pos>t},cur:function(){return this.string.slice(this.start,this.pos)},sft:function(){return this.start=this.pos,this}}),he=D({constructor:function(t){this.l=t||0,this.stack=[],this.t=E,this.r="0",this.inBlock=null,this.endBlock=null},l:0,stack:null,t:null,r:null,inBlock:null,endBlock:null,clone:function(){var t=new this.$class(this.l);return t.t=this.t,t.r=this.r,t.stack=this.stack.slice(),t.inBlock=this.inBlock,t.endBlock=this.endBlock,t},toString:function(){return["",this.l,this.t,this.r,this.inBlock||"0",this.stack.length].join("_")}}),pe=D({constructor:function(t,e,n,r){var i=this;switch(i.type=w,i.tt=t||f,i.tn=e,i.tk=r||0,i.tg=0,i.tp=null,i.p=null,i.np=null,i.tt){case f:case h:i.tp=n;break;case c:i.tp=n,i.p={},i.p[""+n.charAt(0)]=1;break;case p:i.tp=n[0],i.p=n[1].peek||null,i.np=n[1].negativepeek||null,i.tg=n[2]||0;break;case d:i.tp=null}},type:null,tt:null,tn:null,tp:null,tg:0,tk:0,p:null,np:null,get:function(t,e){var n,r=this,i=r.tt,o=r.tk,s=r.tp,l=r.tg,u=r.p,a=r.np;switch(i){case f:if(n=t.chr(s,e))return[o,n];break;case h:if(n=t.chl(s,e))return[o,n];break;case c:if(n=t.str(s,u,e))return[o,n];break;case p:if(n=t.rex(s,u,a,l,e))return[o,n];break;case d:return!1!==e&&t.end(),[o,""]}return!1},toString:function(){return["[","Matcher: ",this.tn,", Pattern: ",this.tp?this.tp.toString():null,"]"].join("")}}),ge=D(pe,{constructor:function(t,e,n){var r=this;r.type=y,r.tn=t,r.ms=e,r.ownKey=!1!==n},ms:null,ownKey:!0,get:function(t,e){var n,r,i=this.ms,o=i.length,s=this.ownKey;for(n=0;o>n;n++)if(r=i[n].get(t,e))return s?[n,r[1]]:r;return!1}}),me=D(pe,{constructor:function(t,e,n){var r=this;r.type=R,r.tn=t,r.s=new ge(r.tn+"_Start",e,!1),r.e=n},s:null,e:null,get:function(t,e){var n,r=this,i=r.s,o=r.e;if(n=i.get(t,e)){var s=o[n[0]],l=Z(s),a=i.ms[n[0]].tt;return p==a&&(u==l?s=new pe(c,r.tn+"_End",n[1][s+1]):c==l&&(s=new pe(c,r.tn+"_End",ee(s,n[1])))),s}return!1}}),de=function(t,e,n,r){var i=Z(e);if(u==i)return e;if(!r[t]){n=n||0;var o,s=0;e&&e.isCharList&&(s=1,delete e.isCharList),o=d&i?new pe(d,t,e,n):f==i?new pe(f,t,e,n):c&i?s?new pe(h,t,e,n):new pe(c,t,e,n):g&i?new pe(p,t,e,n):e,r[t]=o}return r[t]},ke=function(t,e,n,r,i,o){if(!o[t]){var s,l,u,a,h,p,m,d=0,k=0,v=1;if(s=H(e),u=s.length,1==u)m=de(t,ie(s[0],n,i),0,o);else if(u>1){for(a=(u>>1)+1,l=0;a>=l;l++)h=Z(s[l]),p=Z(s[u-1-l]),(f!=h||f!=p)&&(v=0),g&h||g&p?d=1:(re(s[l],n)||re(s[u-1-l],n))&&(k=1);if(!v||r&&c&Z(r))if(!r||d||k){for(l=0;u>l;l++)s[l]=g&Z(s[l])?ke(t+"_"+l,s[l],n,r,i,o):de(t+"_"+l,ie(s[l],n,i),l,o);m=u>1?new ge(t,s):s[0]}else m=de(t,oe(s,r),0,o);else s=s.slice().join(""),s.isCharList=1,m=de(t,s,0,o)}o[t]=m}return o[t]},ve=function(t,e,n,r,i){if(!i[t]){var o,s,l,u,a,f,h;for(u=[],a=[],o=J(e),s=0,l=o.length;l>s;s++)f=de(t+"_0_"+s,ie(o[s][0],n,r),s,i),h=o[s].length>1?p!=f.tt||c!=Z(o[s][1])||re(o[s][1],n)?de(t+"_1_"+s,ie(o[s][1],n,r),s,i):o[s][1]:f,u.push(f),a.push(h);i[t]=new me(t,u,a)}return i[t]},we=D({constructor:function(t,e,n){var r=this;r.tt=_,r.tn=t,r.t=e,r.r=n,r.required=0,r.ERR=0,r.toClone=["t","r"]},tn:null,tt:null,t:null,r:null,required:0,ERR:0,toClone:null,get:function(t,e){var n=this,r=n.t,i=n.tt;if(x==i){if(t.spc(),t.eol())return e.t=E,n.r}else if(C==i)n.ERR=n.required&&t.spc()&&!t.eol()?1:0,n.required=0;else if(r.get(t))return e.t=n.tt,n.r;return!1},require:function(t){return this.required=t?1:0,this},push:function(t,e,n){return e?t.splice(e,0,n):t.push(n),this},clone:function(){var t,e,n,r=this,i=r.toClone;if(t=new r.$class,t.tt=r.tt,t.tn=r.tn,i&&i.length)for(n=i.length,e=0;n>e;e++)t[i[e]]=r[i[e]];return t},toString:function(){return["[","Tokenizer: ",this.tn,", Matcher: ",this.t?this.t.toString():null,"]"].join("")}}),ye=D(we,{constructor:function(t,e,n,r,i,o,s){var l=this;l.$super("constructor",e,n,r),l.ri="undefined"==typeof i?l.r:i,l.tt=t,l.mline="undefined"==typeof o?1:o,l.esc=s||"\\",l.toClone=["t","r","ri","mline","esc"]},ri:null,mline:0,esc:null,get:function(t,e){var n,r,i,o,s,l,u,a,c,f=this,h=0,p=0,g="",m=f.mline,k=f.t,v=f.tn,w=f.tt,y=f.r,R=f.ri,b=y!=R,E=0,_=S==w,x=f.esc;if(T==w&&(f.required=0),s=0,e.inBlock==v?(p=1,n=e.endBlock,s=1,l=R):!e.inBlock&&(n=k.get(t))&&(p=1,e.inBlock=v,e.endBlock=n,l=y),p){if(i=e.stack.length,o=d==n.tt,b){if(s&&o&&t.sol())return f.required=0,e.inBlock=null,e.endBlock=null,!1;if(!s)return f.push(e.stack,i,f.clone()),e.t=w,l}if(h=n.get(t),r=m,c=0,h)l=o?R:y;else for(a=t.pos;!t.eol();){if(u=t.pos,!(_&&E||!n.get(t))){b?t.pos>u&&u>a?(l=R,t.bck2(u),c=1):(l=y,h=1):(l=y,h=1);break}g=t.nxt(),E=!E&&g==x}return r=m||_&&E,h||!r&&!c?(e.inBlock=null,e.endBlock=null):f.push(e.stack,i,f.clone()),e.t=w,l}return!1}}),Re=D(we,{constructor:function(t,e,n,r){var i=this;i.tt=O,i.tn=t||null,i.t=null,i.ts=null,i.min=n||0,i.max=r||s,i.found=0,i.toClone=["ts","min","max","found"],e&&i.set(e)},ts:null,min:0,max:1,found:0,set:function(t){return t&&(this.ts=H(t)),this},get:function(t,e){var n,r,i,o,s,l=this,u=l.ts,a=u.length,c=l.found,f=l.min,h=l.max,p=0;for(l.ERR=0,l.required=0,o=t.pos,s=e.stack.length,n=0;a>n;n++){if(r=u[n].clone().require(1),i=r.get(t,e),!1!==i){if(++c,h>=c)return l.found=c,l.push(e.stack,s,l.clone()),l.found=0,i;break}r.required&&p++,r.ERR&&t.bck2(o)}return l.required=f>c,l.ERR=c>h||f>c&&p>0,!1}}),be=D(Re,{constructor:function(t,e){this.$super("constructor",t,e,1,1),this.tt=B},get:function(t,e){var n,r,i,o,s=this,l=s.ts,u=l.length,a=0,c=0;for(s.required=1,s.ERR=0,o=t.pos,i=0;u>i;i++){if(r=l[i].clone(),n=r.get(t,e),a+=r.required?1:0,!1!==n)return n;r.ERR&&(c++,t.bck2(o))}return s.required=a>0,s.ERR=u==c&&a>0,!1}}),Ee=D(Re,{constructor:function(t,e){this.$super("constructor",t,e,1,1),this.tt=A},get:function(t,e){var n,r,i,o,s=this,l=s.ts,u=l.length;if(s.required=1,s.ERR=0,i=t.pos,o=e.stack.length,n=l[0].clone().require(1),r=n.get(t,e),!1!==r){for(var a=u-1;a>0;a--)s.push(e.stack,o+u-a-1,l[a].clone().require(1));return r}return n.ERR?(s.ERR=1,t.bck2(i)):n.required&&(s.ERR=1),!1}}),_e=D(Re,{constructor:function(t,e){this.$super("constructor",t,e,1,1),this.tt=M},get:function(t,e){var n,r,i,o,s=this,l=s.ts,u=l.length;if(s.required=0,s.ERR=0,i=t.pos,o=e.stack.length,n=l[0].clone().require(0),r=n.get(t,e),!1!==r){for(var a=u-1;a>0;a--)s.push(e.stack,o+u-a-1,l[a].clone().require(1));return r}return n.ERR&&t.bck2(i),!1}}),xe=function(t,e,n,i,o,l,u,a,f,h,p){if(null===t){var m=new we(t,t,r);return m.tt=x,m}if(""===t){var m=new we(t,t,r);return m.tt=C,m}if(t=""+t,!a[t]){var d,k,v,w,y,R,b,m=null;if(d=n[t]||i[t]||{type:"simple",tokens:t}){if((c|g)&Z(d)&&(d={type:"simple",tokens:d}),k=d.type?N[d.type.toUpperCase().replace("-","").replace("_","")]:_,_&k&&""===d.tokens)return m=new we(t,"",r),m.tt=C,a[t]=m,m;if(d.tokens=H(d.tokens),w=d.action||null,_&k)d.autocomplete&&Le(d,t,p),v="undefined"==typeof d.combine?"\\b":d.combine,m=new we(t,ke(t,d.tokens.slice(),e,v,l,u),o[t]||r),a[t]=m;else if(L&k)T&k&&Ce(d,h),m=new ye(k,t,ve(t,d.tokens.slice(),e,l,u),o[t]||r,o[t+".inside"],d.multiline,d.escape),a[t]=m,d.interleave&&f.push(m.clone());else if(I&k){R=d.tokens.slice(),g&Z(d.match)?m=new Re(t,null,d.match[0],d.match[1]):(y=U[d.match.toUpperCase()],m=q==y?new Re(t,null,0,1):j==y?new Re(t,null,0,s):$==y?new Re(t,null,1,s):B&y?new be(t,null):new Ee(t,null)),a[t]=m,b=[];for(var E=0,S=R.length;S>E;E++)b=b.concat(xe(R[E],e,n,i,o,l,u,a,f,h,p));m.set(b)}else if(M&k){m=J(d.tokens.slice()).slice();for(var A,O=[],E=0,S=m.length;S>E;E++)O[E]=m[E].slice(),m[E]=new _e(t+"_NGRAM_"+E,null);a[t]=m;for(var E=0,S=m.length;S>E;E++){A=O[E],b=[];for(var D=0,K=A.length;K>D;D++)b=b.concat(xe(A[D],e,n,i,o,l,u,a,f,h,p));m[E].set(b)}}}}return a[t]},Ce=function(t,e){var n,r,o,s=J(t.tokens.slice());for(i=0,l=s.length;l>i;i++)n=s[i][0],r=s[i].length>1?s[i][1]:s[i][0],o=s[i].length>2?s[i][2]:"",null===r?(e.line=e.line||[],e.line.push(n)):(e.block=e.block||[],e.block.push([n,r,o]))},Le=function(t,e,n){var r=[].concat(H(t.tokens)).map(function(t){return{word:t,meta:e}});n.autocomplete=F.apply(n.autocomplete||[],r)},Se=function(t){var e,n,r,i,o,s,l,u,a,c,f,h,p,m,d,k;if(t.__parsed)return t;for(f={},h={},p={},d={},k={},m=[],t=X(t),e=t.RegExpID||null,t.RegExpID=null,delete t.RegExpID,s=t.Lex||{},t.Lex=null,delete t.Lex,l=t.Syntax||{},t.Syntax=null,delete t.Syntax,o=t.Style||{},i=t.Parser||[],r=i.length,n=[],u=0;r>u;u++)a=i[u],c=xe(a,e,s,l,o,f,h,p,m,d,k)||null,c&&(g&Z(c)?n=n.concat(c):n.push(c));return t.Parser=n,t.cTokens=m,t.Style=o,t.Comments=d,t.Keywords=k,t.__parsed=1,t},Te="undefined"!=typeof ace?ace:{require:function(){return{}},config:{}},Be=Te.require,Ae=Te.config,Oe=D(Be("ace/worker/worker_client").WorkerClient||Object,{constructor:function(t,e,n){var r=this,i=Be,o=Ae;r.$sendDeltaQueue=r.$sendDeltaQueue.bind(r),r.changeListener=r.changeListener.bind(r),r.onMessage=r.onMessage.bind(r),i.nameToUrl&&!i.toUrl&&(i.toUrl=i.nameToUrl);var s;if(o.get("packaged")||!i.toUrl)s=o.moduleUrl(e,"worker");else{var l=r.$normalizePath;s=l(i.toUrl("ace/worker/worker.js",null,"_"));var u={};t.forEach(function(t){u[t]=l(i.toUrl(t,null,"_").replace(/(\.js)?(\?.*)?$/,""))})}r.$worker=new Worker(s),r.$worker.postMessage({load:!0,ace_worker_base:ce.root+"/"+Ae.moduleUrl("ace/worker/json")}),r.$worker.postMessage({init:!0,tlns:u,module:e,classname:n}),r.callbackId=1,r.callbacks={},r.$worker.onmessage=r.onMessage}}),qe=D(Be("ace/tokenizer").Tokenizer||Object,{constructor:function(t,e){var n=this;if(n.LC=t.Comments.line||null,n.BC=t.Comments.block?{start:t.Comments.block[0][0],end:t.Comments.block[0][1]}:null,n.LC){if(g&Z(n.LC))var r=n.LC.map(te).join("|");else var r=te(n.LC);n.rxLine=new RegExp("^(\\s*)(?:"+r+") ?")}n.BC&&(n.rxStart=new RegExp("^(\\s*)(?:"+te(n.BC.start)+")"),n.rxEnd=new RegExp("(?:"+te(n.BC.end)+")\\s*$")),n.DEF=e.DEFAULT,n.ERR=t.Style.error||e.ERROR,n.Keywords=t.Keywords.autocomplete||null,n.Tokens=t.Parser||[],n.cTokens=t.cTokens.length?t.cTokens:null},ERR:null,DEF:null,LC:null,BC:null,rxLine:null,rxStart:null,rxEnd:null,Keywords:null,cTokens:null,Tokens:null,parse:function(t){t=t||"";var e,n,r=t.split(/\r\n|\r|\n/g),i=r.length,o=[];for(n={state:new he,tokens:null},e=0;i>e;e++)n=this.getLineTokens(r[e],n.state,e),o.push(n.tokens);return o},getLineTokens:function(t,e,n){var r,i,o,s,l,u,a,c,f,h,p=this,g=p.cTokens,m=p.Tokens,d=m.length,k=null,v=p.DEF,w=p.ERR;for(u=[],f=new fe(t),e=e?e.clone():new he,e.l=1+n,h=e.stack,a={type:null,value:""},c=null,h.length&&x==h[h.length-1].tt&&h.pop();!f.eol();)if(i=0,c&&c!==a.type?(a.type&&u.push(a),a={type:c,value:f.cur(),error:k},k=null,f.sft()):a.type&&(a.value+=f.cur(),f.sft()),h.length&&C==h[h.length-1].tt||!f.spc()){for(;h.length&&!f.eol();){if(g){for(s=0,o=0;s<g.length;)if(l=g[s++],e.r=c=l.get(f,e),!1!==c){o=1;break}if(o){i=1;break}}if(l=h.pop(),e.r=c=l.get(f,e),!1!==c){i=1;break}if(l.ERR||l.required){h.length=0,f.nxt(),e.t=b,e.r=c=w,i=1,k=l.tn+(l.required?" is missing":" syntax error");break}}if(!i){if(f.eol())break;for(r=0;d>r;r++){if(l=m[r],e.r=c=l.get(f,e),!1!==c){i=1;break}if(l.ERR||l.required){h.length=0,f.nxt(),e.t=b,e.r=c=w,i=1,k=l.tn+(l.required?" is missing":" syntax error");break}}if(!i){if(f.eol())break;f.nxt(),e.t=E,e.r=c=v}}}else e.t=E,e.r=c=v;return c&&c!==a.type?(a.type&&u.push(a),u.push({type:c,value:f.cur(),error:k}),k=null):a.type&&(a.value+=f.cur(),u.push(a)),a=null,{state:e,tokens:u}},tCL:function(t,e,n,r){function i(t){for(var e=n;r>=e;e++)t(s.getLine(e),e)}var o=this,s=e.doc,l=!0,u=!0,a=1/0,c=e.getTabSize(),f=!1;if(o.LC){var h=g==Z(o.LC)?o.LC[0]:o.LC,p=o.rxLine,m=h+" ";f=e.getUseSoftTabs();var d=function(t,e){var n=t.match(p);if(n){var r=n[1].length,i=n[0].length;w(t,r,i)||" "!=n[0][i-1]||i--,s.removeInLine(e,r,i)}},k=function(t,e){(!l||/\S/.test(t))&&(w(t,a,a)?s.insertInLine({row:e,column:a},m):s.insertInLine({row:e,column:a},h))},v=function(t){return p.test(t)},w=function(t,e,n){for(var r=0;e--&&" "==t.charAt(e);)r++;if(0!=r%c)return!1;for(var r=0;" "==t.charAt(n++);)r++;return c>2?r%c!=c-1:0==r%c}}else{if(!o.BC)return!1;var h=o.BC.start,y=o.BC.end,R=o.rxStart,b=o.rxEnd,k=function(t,e){v(t,e)||(!l||/\S/.test(t))&&(s.insertInLine({row:e,column:t.length},y),s.insertInLine({row:e,column:a},h))},d=function(t,e){var n;(n=t.match(b))&&s.removeInLine(e,t.length-n[0].length,t.length),(n=t.match(R))&&s.removeInLine(e,n[1].length,n[0].length)},v=function(t,n){if(R.test(t))return!0;for(var r=e.getTokens(n),i=0;i<r.length;i++)if("comment"===r[i].type)return!0}}var E=1/0;i(function(t,e){var n=t.search(/\S/);-1!==n?(a>n&&(a=n),u&&!v(t,e)&&(u=!1)):E>t.length&&(E=t.length)}),1/0==a&&(a=E,l=!1,u=!1),f&&0!=a%c&&(a=Math.floor(a/c)*c),i(u?d:k)},tBC:function(t,e,n,r){var i,o,s,l,u,a,c=this,f=Be("ace/token_iterator").TokenIterator,h=Be("ace/range").Range,p=c.BC;if(p){if(i=new f(e,r.row,r.column),o=i.getCurrentToken(),s=e.selection,l=s.toOrientedRange(),o&&/comment/.test(o.type)){for(var g,m;o&&/comment/.test(o.type);){var d=o.value.indexOf(p.start);if(-1!=d){var k=i.getCurrentTokenRow(),v=i.getCurrentTokenColumn()+d;g=new h(k,v,k,v+p.start.length);break}o=i.stepBackward()}for(i=new f(e,r.row,r.column),o=i.getCurrentToken();o&&/comment/.test(o.type);){var d=o.value.indexOf(p.end);if(-1!=d){var k=i.getCurrentTokenRow(),v=i.getCurrentTokenColumn()+d;m=new h(k,v,k,v+p.end.length);break}o=i.stepForward()}m&&e.remove(m),g&&(e.remove(g),u=g.start.row,a=-p.start.length)}else a=p.start.length,u=n.start.row,e.insert(n.end,p.end),e.insert(n.start,p.start);l.start.row==u&&(l.start.column+=a),l.end.row==u&&(l.end.column+=a),e.selection.fromOrientedRange(l)}},indent:function(t){return t.match(/^\s*/)[0]},getNextLineIndent:function(t,e){return e.match(/^\s*/)[0]}}),je=function(t,e){return new qe(t,e)},$e=function(t,e){var n;return n={getTokenizer:function(){return t},supportAnnotations:!0,createWorker:function(t){if(!n.supportAnnotations)return null;Ae.setModuleUrl("ace/grammar_worker",ce.file);var r=new Oe(["ace"],"ace/grammar_worker","AceGrammarWorker");return r.attachToDocument(t.getDocument()),r.call("Init",[e],function(){r.on("error",function(e){t.setAnnotations(e.data)}),r.on("ok",function(){t.clearAnnotations()})}),r},transformAction:function(){},toggleCommentLines:function(e,n,r,i){return t.tCL(e,n,r,i)},toggleBlockComment:function(e,n,r,i){return t.tBC(e,n,r,i)},getNextLineIndent:function(e,n,r){return t.getNextLineIndent(e,n,r)},checkOutdent:function(){return!1},autoOutdent:function(){},getKeywords:function(){var e=t.Keywords;return e?e.map(function(t){var e=t.word,n=t.meta;return{name:e,value:e,score:1e3,meta:n}}):[]},getCompletions:function(e,n,r,i){var o=t.Keywords;if(!o)return[];var s=i.length;return o.map(function(t){var e=t.word,n=t.meta,r=e.length,o=r>=s&&i==e.substr(0,s);return{name:e,value:e,score:o?1e3-r:0,meta:n}})}}},Ie=function(t,e){var n={DEFAULT:e||r,ERROR:o};t=X(t);var i=Se(t);return $e(je(i,n),t)};if(ue){var Me=this;onmessage=function(t){var e=t.data;e.load&&e.ace_worker_base&&(importScripts(e.ace_worker_base),n.call(Me))}}r="text",o="invalid";var Ue={VERSION:"0.6.2",extend:Y,parse:Se,getMode:Ie};return Ue});