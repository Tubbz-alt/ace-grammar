/**
*
*   AceGrammar
*   @version: 0.7
*
*   Transform a grammar specification in JSON format, into an ACE syntax-highlight parser mode
*   https://github.com/foo123/ace-grammar
*
**/!function(t,e,n,r,o){var l="undefined"!=typeof global&&"[object global]"=={}.toString.call(global)?1:0,s=l||"undefined"==typeof navigator?0:1,i="function"==typeof importScripts&&navigator instanceof WorkerNavigator?1:0,a=Array,u=a.prototype,c=function(){var t=null;if(l)return t=__filename,{path:__dirname,file:__filename};if(i)t=self.location.href;else if(s){var e;(e=document.getElementsByTagName("script"))&&e.length&&(t=e[e.length-1].src)}return t?{path:t.split("/").slice(0,-1).join("/"),file:t}:{path:null,file:null}},f=c(),p=function(t,e){if(l)return e;if("."==e.charAt(0)){t=t.split("/"),e=e.split("/");var n,r=0,o=0,s=e.length,i=t.length;for(n=0;s>n;n++)if(/^\.\./.test(e[n]))r++,o++;else{if(!/^\./.test(e[n]))break;o++}r=r>=i?0:i-r,e=t.slice(0,r).concat(e.slice(o)).join("/")}return e};n=n?[].concat(n):[];var h,g,m,k=n.length,d=new a(k),v=new a(k),E=new a(k),R=new a(k);for(h=0;k>h;h++)d[h]=n[h][0],v[h]=n[h][1],E[h]=/\.js$/i.test(v[h])?p(f.path,v[h]):p(f.path,v[h]+".js");if("object"==typeof module&&module.exports){if(o===module.exports[e]){for(h=0;k>h;h++)R[h]=module.exports[d[h]]||require(E[h])[d[h]];g=r.apply(t,R),module.exports[e]=g||1}}else if("function"==typeof define&&define.amd)define(["exports"].concat(v),function(n){if(o===n[e]){for(var l=u.slice.call(arguments,1),s=l.length,i=0;s>i;i++)R[i]=n[d[i]]||l[i];g=r.apply(t,R),n[e]=g||1}});else if(i){for(h=0;k>h;h++)self[d[h]]||importScripts(E[h]),R[h]=self[d[h]];g=r.apply(t,R),self[e]=g||1}else if(o===t[e]){var w=function(t,e){m=m||document.getElementsByTagName("head")[0];var n=0,r=document.createElement("script");r.type="text/javascript",r.language="javascript",r.src=t,r.onload=r.onreadystatechange=function(){n||r.readyState&&"loaded"!=r.readyState&&"complete"!=r.readyState||(n=1,r.onload=r.onreadystatechange=null,m.removeChild(r),r=null,e&&e())},m.appendChild(r)},C=function(e,n,r){t[e]?r():w(n,r)},y=function(n){return function(){k>n&&(R[n]=t[d[n]]),++n<k?C(d[n],E[n],y(n)):(g=r.apply(t,R),t[e]=g||1)}};k?C(d[0],E[0],y(0)):(g=r.apply(t,R),t[e]=g||1)}}(this,"AceGrammar",[["Classy","./classy"],["RegExAnalyzer","./regexanalyzer"]],function(t,e){function n(){ace.define("ace/grammar_worker",["require","exports","module","ace/worker/mirror"],function(t,e){var n=t("./worker/mirror").Mirror;e.AceGrammarWorker=H(n,{constructor:function(t){var e=this;e.$super("constructor",t),e.setTimeout(500)},parser:null,Init:function(t,e){var n=this,l=n.sender;n.parser=new He(je(t),{DEFAULT:r,ERROR:o}),l.callback(1,e)},onUpdate:function(){var t,e,n,r,o,l,s,i,a,u=this,c=u.sender,f=u.parser,p=0;if(!f)return c.emit("ok",[]),void 0;if(t=u.doc.getValue(),!t||!t.length)return c.emit("ok",[]),void 0;for(r=[],e=f.parse(t),l=e.length,o=0;l>o;o++)if(n=e[o],n&&n.length)for(a=0,s=0;s<n.length;s++)i=n[s],f.ERR==i.type&&(r.push({row:o,column:a,text:i.error||"Syntax Error",type:"error",raw:i.error||"Syntax Error"}),p=1),a+=i.value.length;p?c.emit("error",r):c.emit("ok",[])}})})}var r,o,s=1/0,a=2,u=4,c=8,f=9,p=10,h=16,g=32,m=64,k=128,d=256,v=512,E=2,R=4,w=8,C=4,y=8,b=16,_=17,x=18,T=32,L=33,S=34,M=64,O=128,B=256,A=257,I=258,j=259,N=512,D=1024,$={ONEOF:M,EITHER:M,ALL:O,ZEROORONE:A,ZEROORMORE:I,ONEORMORE:j,REPEATED:B},P={BLOCK:T,COMMENT:S,ESCAPEDBLOCK:L,SIMPLE:b,GROUP:N,NGRAM:D},H=t.Class,Q=Array.prototype,U=Object.prototype,K=Q.slice,q=(Q.splice,Q.concat),z=U.hasOwnProperty,V=U.toString,F=U.propertyIsEnumerable,G=Object.keys,W=function(t){var e=typeof t,n=V.call(t);return"undefined"==e?d:"number"==e||t instanceof Number?a:null===t?k:!0===t||!1===t?u:t&&("string"==e||t instanceof String)?1==t.length?f:c:t&&("[object RegExp]"==n||t instanceof RegExp)?h:t&&("[object Array]"==n||t instanceof Array)?g:t&&"[object Object]"==n?m:v},Z=function(t,e){return e||g!=W(t)?[t]:t},J=function(t,e){return t=Z(t,e),(e||g!=W(t[0]))&&(t=[t]),t},X=function(t){var e,n=W(t);if(!((m|g)&n))return t;var r,o={};for(r in t)z.call(t,r)&&F.call(t,r)&&(e=W(t[r]),o[r]=m&e?X(t[r]):g&e?t[r].slice():t[r]);return o},Y=function(){var t=K.call(arguments),e=t.length;if(1>e)return null;if(2>e)return X(t[0]);var n,r,o,l,s=t.shift(),i=X(s);for(e--,r=0;e>r;r++)if(n=t.shift())for(o in n)z.call(n,o)&&F.call(n,o)&&(z.call(s,o)&&F.call(s,o)?(l=W(s[o]),m&~c&l&&(i[o]=Y(s[o],n[o]))):i[o]=X(n[o]));return i},te=function(t){return t.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},ee=function(t,e){var n,r,o,l;for(l=function(t,n){return e[1+parseInt(n,10)]},n=t.split("$$"),o=n.length,r=0;o>r;r++)n[r]=n[r].replace(/\$(\d{1,2})/g,l);return n.join("$")},ne=function(t,e){return e.length-t.length},re=function(t,e){return c&W(e)&&c&W(t)&&e.length&&e.length<=t.length&&e==t.substr(0,e.length)},oe=function(t,n,r){if(!t||a==W(t))return t;var o,l=n?n.length||0:0;if(l&&n==t.substr(0,l)){var s,i,u,c,f,o,p,h=t.substr(l),g=h[0],m="";for(o=h.length;o--&&(p=h[o],g!=p);)"i"==p.toLowerCase()&&(m="i");return s=h.substring(1,o),i="^("+s+")",r[i]||(u=new RegExp(i,m),f=new e(u).analyze(),c=f.getPeekChars(),G(c.peek).length||(c.peek=null),G(c.negativepeek).length||(c.negativepeek=null),r[i]=[u,c]),r[i]}return t},le=function(t,e){var n={},r="",o=W(e);(c==o||f==o)&&(r=e);var l=t.sort(ne).map(function(t){return n[t.charAt(0)]=1,te(t)}).join("|");return[new RegExp("^("+l+")"+r),{peek:n,negativepeek:null},1]},se="undefined"!=typeof global&&"[object global]"=={}.toString.call(global)?1:0,ie=se||"undefined"==typeof navigator?0:1,ae="function"==typeof importScripts&&navigator instanceof WorkerNavigator?1:0,ue=function(){var t,e,n=null;return se?(n=__filename,{path:__dirname,file:__filename,base:__dirname}):(ae?n=self.location.href:ie&&(t=document.location.href.split("#")[0].split("?")[0].split("/").slice(0,-1).join("/"),(e=document.getElementsByTagName("script"))&&e.length&&(n=e[e.length-1].src)),n?{path:n.split("/").slice(0,-1).join("/"),file:n,base:t}:{path:null,file:null,base:null})},ce=ue(),fe=Math.max,pe=/^[\s\u00a0]+/,he=/[^\s\u00a0]/,ge=function(t,e,n,r,o){var l,s;for(null===e&&(e=t.search(he),-1==e&&(e=t.length)),l=r||0,s=o||0;e>l;++l)s+="	"==t.charAt(l)?n-s%n:1;return s};ParserStream=H({constructor:function(t){var e=this;e._=null,e.s=t?""+t:"",e.start=e.pos=0,e.lastColumnPos=e.lastColumnValue=0,e.lineStart=0},_:null,s:"",start:0,pos:0,lastColumnPos:0,lastColumnValue:0,lineStart:0,fromStream:function(t){var e=this;return e._=t,e.s=""+t.string,e.start=t.start,e.pos=t.pos,e.lastColumnPos=t.lastColumnPos,e.lastColumnValue=t.lastColumnValue,e.lineStart=t.lineStart,e},toString:function(){return this.s},sol:function(){return 0==this.pos},eol:function(){return this.pos>=this.s.length},chr:function(t,e){var n=this,r=n.s.charAt(n.pos)||null;return r&&t==r?(!1!==e&&(n.pos+=1,n._&&(n._.pos=n.pos)),r):!1},chl:function(t,e){var n=this,r=n.s.charAt(n.pos)||null;return r&&-1<t.indexOf(r)?(!1!==e&&(n.pos+=1,n._&&(n._.pos=n.pos)),r):!1},str:function(t,e,n){var r,o=this,l=o.pos,s=o.s,i=s.charAt(l)||null;return i&&e[i]&&(r=t.length,t==s.substr(l,r))?(!1!==n&&(o.pos+=r,o._&&(o._.pos=o.pos)),t):!1},rex:function(t,e,n,r,o){var l,s=this,i=s.pos,a=s.s,u=a.charAt(i)||null;return u&&e&&e[u]||n&&!n[u]?(l=a.slice(i).match(t),!l||l.index>0?!1:(!1!==o&&(s.pos+=l[r||0].length,s._&&(s._.pos=s.pos)),l)):!1},end:function(){var t=this;return t.pos=t.s.length,t._&&(t._.pos=t.pos),t},nxt:function(){var t,e=this,n=e.s;return e.pos<n.length?(t=n.charAt(e.pos++)||null,e._&&(e._.pos=e.pos),t):void 0},bck:function(t){var e=this;return e.pos=fe(0,e.pos-t),e._&&(e._.pos=e.pos),e},bck2:function(t){var e=this;return e.pos=fe(0,t),e._&&(e._.pos=e.pos),e},col:function(t){var e=this;return e.lastColumnPos<e.start&&(e.lastColumnValue=ge(e.s,e.start,t,e.lastColumnPos,e.lastColumnValue),e.lastColumnPos=e.start),e.lastColumnValue-(e.lineStart?ge(e.s,e.lineStart,t):0)},ind:function(t){var e=this;return ge(e.s,null,t)-(e.lineStart?ge(e.s,e.lineStart,t):0)},spc:function(){var t,e=this,n=e.pos,r=e.s.slice(n);return(t=r.match(pe))&&(e.pos+=t[0].length,e._&&(e._.pos=e.pos)),e.pos>n},cur:function(t){var e=this,n=e.s.slice(e.start,e.pos);return t&&(e.start=e.pos),n},sft:function(){return this.start=this.pos,this}});var me=H({constructor:function(t,e){var n=this;n.id=e?(new Date).getTime():0,n.l=t||0,n.stack=[],n.data=[],n.t=y,n.r="0",n.inBlock=null,n.endBlock=null},id:0,l:0,stack:null,data:null,t:null,r:null,inBlock:null,endBlock:null,clone:function(t){var e=this,n=new e.$class(e.l,t);return n.t=e.t,n.r=e.r,n.stack=e.stack.slice(),n.data=e.data.slice(),n.inBlock=e.inBlock,n.endBlock=e.endBlock,n},toString:function(){var t=this;return["",t.id,t.l,t.t,t.inBlock||"0"].join("_")}}),ke=H({constructor:function(t,e,n,r){var o=this;switch(o.type=E,o.tt=t||f,o.tn=e,o.tk=r||0,o.tg=0,o.tp=null,o.p=null,o.np=null,o.tt){case f:case p:o.tp=n;break;case c:o.tp=n,o.p={},o.p[""+n.charAt(0)]=1;break;case h:o.tp=n[0],o.p=n[1].peek||null,o.np=n[1].negativepeek||null,o.tg=n[2]||0;break;case k:o.tp=null}},type:null,tt:null,tn:null,tp:null,tg:0,tk:0,p:null,np:null,get:function(t,e){var n,r=this,o=r.tt,l=r.tk,s=r.tp,i=r.tg,a=r.p,u=r.np;switch(o){case f:if(n=t.chr(s,e))return[l,n];break;case p:if(n=t.chl(s,e))return[l,n];break;case c:if(n=t.str(s,a,e))return[l,n];break;case h:if(n=t.rex(s,a,u,i,e))return[l,n];break;case k:return!1!==e&&t.end(),[l,""]}return!1},toString:function(){return["[","Matcher: ",this.tn,", Pattern: ",this.tp?this.tp.toString():null,"]"].join("")}}),de=H(ke,{constructor:function(t,e,n){var r=this;r.type=R,r.tn=t,r.ms=e,r.ownKey=!1!==n},ms:null,ownKey:!0,get:function(t,e){var n,r,o=this.ms,l=o.length,s=this.ownKey;for(n=0;l>n;n++)if(r=o[n].get(t,e))return s?[n,r[1]]:r;return!1}}),ve=H(ke,{constructor:function(t,e,n){var r=this;r.type=w,r.tn=t,r.s=new de(r.tn+"_Start",e,!1),r.e=n},s:null,e:null,get:function(t,e){var n,r=this,o=r.s,l=r.e;if(n=o.get(t,e)){var s,i=l[n[0]],u=W(i),p=o.ms[n[0]].tt;return h==p&&(a==u?(s=n[1][i+1],i=new ke(s.length>1?c:f,r.tn+"_End",s)):c==u&&(s=ee(i,n[1]),i=new ke(s.length>1?c:f,r.tn+"_End",s))),i}return!1}}),Ee=function(t,e,n,r){var o=W(e);if(a==o)return e;if(!r[t]){n=n||0;var l,s=0;e&&e.isCharList&&(s=1,delete e.isCharList),l=k&o?new ke(k,t,e,n):f==o?new ke(f,t,e,n):c&o?s?new ke(p,t,e,n):new ke(c,t,e,n):g&o?new ke(h,t,e,n):e,r[t]=l}return r[t]},Re=function(t,e,n,r,o,l){if(!l[t]){var s,i,a,u,p,h,m,k=0,d=0,v=1;if(s=Z(e),a=s.length,1==a)m=Ee(t,oe(s[0],n,o),0,l);else if(a>1){for(u=(a>>1)+1,i=0;u>=i;i++)p=W(s[i]),h=W(s[a-1-i]),(f!=p||f!=h)&&(v=0),g&p||g&h?k=1:(re(s[i],n)||re(s[a-1-i],n))&&(d=1);if(!v||r&&c&W(r))if(!r||k||d){for(i=0;a>i;i++)s[i]=g&W(s[i])?Re(t+"_"+i,s[i],n,r,o,l):Ee(t+"_"+i,oe(s[i],n,o),i,l);m=a>1?new de(t,s):s[0]}else m=Ee(t,le(s,r),0,l);else s=s.slice().join(""),s.isCharList=1,m=Ee(t,s,0,l)}l[t]=m}return l[t]},we=function(t,e,n,r,o){if(!o[t]){var l,s,i,a,u,f,p;for(a=[],u=[],l=J(e),s=0,i=l.length;i>s;s++)f=Ee(t+"_0_"+s,oe(l[s][0],n,r),s,o),p=l[s].length>1?h!=f.tt||c!=W(l[s][1])||re(l[s][1],n)?Ee(t+"_1_"+s,oe(l[s][1],n,r),s,o):l[s][1]:f,a.push(f),u.push(p);o[t]=new ve(t,a,u)}return o[t]},Ce=0,ye=function(){return++Ce},be=function(t,e){if(e)for(;t.length&&e==t[t.length-1].sID;)t.pop();else t.length=0;return t},_e=function(t,e,n,r){return r&&(n.sID=r),e<t.length?t.splice(e,0,n):t.push(n),t},xe=H({constructor:function(t,e,n){var r=this;r.tt=b,r.tn=t,r.t=e,r.r=n,r.REQ=0,r.ERR=0,r.MTCH=0,r.CLONE=["t","r"]},sID:null,tn:null,tt:null,t:null,r:null,tm:null,REQ:0,ERR:0,MTCH:0,CLONE:null,m:function(t,e){var n,r,o=this.tm||null,l=e.data;if(o)if(n=o[1],"push"==o[0]&&n)t&&(r=W(n),n=a==r?t[1][n]:ee(n,t[1])),l.push(n);else if("pop"==o[0])if(n){if(t&&(r=W(n),n=a==r?t[1][n]:ee(n,t[1])),!l.length||n!=l.pop())return n}else l.length&&l.pop();return 0},get:function(t,e){var n=this,r=n.tm,o=n.t,l=n.tt,s=n.r,i=null;if(n.MTCH=0,_==l){if(t.spc(),t.eol())return e.t=y,s}else if(x==l)n.ERR=n.REQ&&t.spc()&&!t.eol()?1:0,n.REQ=0;else if(i=o.get(t))return r&&(n.MTCH=n.m(i,e)),e.t=l,s;return!1},req:function(t){return this.REQ=t?1:0,this},err:function(){var t=this;return t.REQ?'Token "'+t.tn+'" Expected':t.MTCH?'Token "'+t.MTCH+'" No Match':'Syntax Error: "'+t.tn+'"'},clone:function(){var t,e,n,r=this,o=r.CLONE;if(t=new r.$class,t.tt=r.tt,t.tn=r.tn,t.tm=r.tm?r.tm.slice():r.tm,o&&o.length)for(e=0,n=o.length;n>e;e++)t[o[e]]=r[o[e]];return t},toString:function(){return["[","Tokenizer: ",this.tn,", Matcher: ",this.t?this.t.toString():null,"]"].join("")}}),Te=H(xe,{constructor:function(t,e,n,r,o,l,s){var i=this;i.$super("constructor",e,n,r),i.ri="undefined"==typeof o?i.r:o,i.tt=t,i.mline="undefined"==typeof l?1:l,i.esc=s||"\\",i.CLONE=["t","r","ri","mline","esc"]},ri:null,mline:0,esc:null,get:function(t,e){var n,r,o,l,s,i,a,u,c,f=this,p=0,h=0,g="",m=f.mline,d=f.t,v=f.tn,E=f.tt,R=f.r,w=f.ri,C=R!=w,y=0,b=L==E,_=f.esc;if(S==E&&(f.REQ=0),s=0,e.inBlock==v?(h=1,n=e.endBlock,s=1,i=w):!e.inBlock&&(n=d.get(t))&&(h=1,e.inBlock=v,e.endBlock=n,i=R),h){if(o=e.stack.length,l=k==n.tt,C){if(s&&l&&t.sol())return f.REQ=0,e.inBlock=null,e.endBlock=null,!1;if(!s)return _e(e.stack,o,f.clone(),v),e.t=E,i}if(p=n.get(t),r=m,c=0,p)i=l?w:R;else for(u=t.pos;!t.eol();){if(a=t.pos,!(b&&y||!n.get(t))){C?t.pos>a&&a>u?(i=w,t.bck2(a),c=1):(i=R,p=1):(i=R,p=1);break}g=t.nxt(),y=!y&&g==_}return r=m||b&&y,p||!r&&!c?(e.inBlock=null,e.endBlock=null):_e(e.stack,o,f.clone(),v),e.t=E,i}return!1}}),Le=H(xe,{constructor:function(t,e,n,r){var o=this;o.tt=B,o.tn=t||null,o.t=null,o.ts=null,o.min=n||0,o.max=r||s,o.found=0,o.CLONE=["ts","min","max","found"],e&&o.set(e)},ts:null,min:0,max:1,found:0,set:function(t){return t&&(this.ts=Z(t)),this},get:function(t,e){var n,r,o,l,s,i,a=this,u=a.ts,c=u.length,f=a.found,p=a.min,h=a.max,g=0;for(a.ERR=0,a.REQ=0,a.MTCH=0,l=t.pos,s=e.stack.length,i=a.tn+"_"+ye(),n=0;c>n;n++){if(r=u[n].clone().req(1),o=r.get(t,e),!1!==o){if(++f,h>=f)return a.found=f,_e(e.stack,s,a.clone(),i),a.found=0,a.MTCH=r.MTCH,o;break}r.REQ&&g++,r.ERR&&t.bck2(l)}return a.REQ=p>f,a.ERR=f>h||p>f&&g>0,!1}}),Se=H(Le,{constructor:function(t,e){this.$super("constructor",t,e,1,1),this.tt=M},get:function(t,e){var n,r,o,l,s=this,i=s.ts,a=i.length,u=0,c=0;for(s.REQ=1,s.ERR=0,s.MTCH=0,l=t.pos,o=0;a>o;o++){if(r=i[o].clone().req(1),n=r.get(t,e),u+=r.REQ?1:0,!1!==n)return s.MTCH=r.MTCH,n;r.ERR&&(c++,t.bck2(l))}return s.REQ=u>0,s.ERR=a==c&&u>0,!1}}),Me=H(Le,{constructor:function(t,e){this.$super("constructor",t,e,1,1),this.tt=O},get:function(t,e){var n,r,o,l,s,i=this,a=i.ts,u=a.length;if(i.REQ=1,i.ERR=0,i.MTCH=0,o=t.pos,l=e.stack.length,s=i.tn+"_"+ye(),n=a[0].clone().req(1),r=n.get(t,e),!1!==r){for(var c=u-1;c>0;c--)_e(e.stack,l+u-c-1,a[c].clone().req(1),s);return i.MTCH=n.MTCH,r}return n.ERR?(i.ERR=1,t.bck2(o)):n.REQ&&(i.ERR=1),!1}}),Oe=H(Le,{constructor:function(t,e){this.$super("constructor",t,e,1,1),this.tt=D},get:function(t,e){var n,r,o,l,s,i,a=this,u=a.ts,c=u.length;if(a.REQ=0,a.ERR=0,a.MTCH=0,o=t.pos,l=e.stack.length,s=a.tn+"_"+ye(),n=u[0].clone().req(0),r=n.get(t,e),!1!==r){for(i=c-1;i>0;i--)_e(e.stack,l+c-i-1,u[i].clone().req(1),s);return a.MTCH=n.MTCH,r}return n.ERR&&t.bck2(o),!1}}),Be=function(t,e,n,o,l,i,a,u,f,p,h){var m,k,d,v,E,R,w,C,y,L,O,B,H,Q=null;if(null===t)return Q=new xe(t,t,r),Q.tt=_,Q.tn="EOL",Q;if(""===t)return Q=new xe(t,t,r),Q.tt=x,Q.tn="NONSPACE",Q;if(t=""+t,!u[t]&&(m=n[t]||o[t]||{type:"simple",tokens:t})){if((c|g)&W(m)&&(m={type:"simple",tokens:m}),k=m.type?P[m.type.toUpperCase().replace("-","").replace("_","")]:b,b&k){if(""===m.tokens)return Q=new xe(t,"",r),Q.tt=x,Q.tn="NONSPACE",u[t]=Q,Q;if(null===m.tokens)return Q=new xe(t,"",r),Q.tt=_,Q.tn="EOL",u[t]=Q,Q}if(m.tokens=Z(m.tokens),b&k)m.autocomplete&&Ie(m,t,h),v=null,m.push?v=["push",m.push]:"undefined"!=typeof m.pop&&(v=["pop",m.pop]),d="undefined"==typeof m.combine?"\\b":m.combine,Q=new xe(t,Re(t,m.tokens.slice(),e,d,i,a),l[t]||r),Q.tm=v,u[t]=Q;else if(T&k)S&k&&Ae(m,p),Q=new Te(k,t,we(t,m.tokens.slice(),e,i,a),l[t]||r,l[t+".inside"],m.multiline,m.escape),u[t]=Q,m.interleave&&f.push(Q.clone());else if(N&k){for(R=m.tokens.slice(),g&W(m.match)?Q=new Le(t,null,m.match[0],m.match[1]):(E=$[m.match.toUpperCase()],Q=A==E?new Le(t,null,0,1):I==E?new Le(t,null,0,s):j==E?new Le(t,null,1,s):M&E?new Se(t,null):new Me(t,null)),u[t]=Q,w=[],L=0,O=R.length;O>L;L++)w=w.concat(Be(R[L],e,n,o,l,i,a,u,f,p,h));Q.set(w)}else if(D&k){for(Q=J(m.tokens.slice()).slice(),C=[],L=0,O=Q.length;O>L;L++)C[L]=Q[L].slice(),Q[L]=new Oe(t+"_NGRAM_"+L,null);for(u[t]=Q,L=0,O=Q.length;O>L;L++){for(y=C[L],w=[],B=0,H=y.length;H>B;B++)w=w.concat(Be(y[B],e,n,o,l,i,a,u,f,p,h));Q[L].set(w)}}}return u[t]},Ae=function(t,e){var n,r,o,s=J(t.tokens.slice());for(i=0,l=s.length;l>i;i++)n=s[i][0],r=s[i].length>1?s[i][1]:s[i][0],o=s[i].length>2?s[i][2]:"",null===r?(e.line=e.line||[],e.line.push(n)):(e.block=e.block||[],e.block.push([n,r,o]))},Ie=function(t,e,n){var r=[].concat(Z(t.tokens)).map(function(t){return{word:t,meta:e}});n.autocomplete=q.apply(n.autocomplete||[],r)},je=function(t){var e,n,r,o,l,s,i,a,u,c,f,p,h,m,k,d;if(t.__parsed)return t;for(f={},p={},h={},k={},d={},m=[],t=X(t),e=t.RegExpID||null,t.RegExpID=null,delete t.RegExpID,s=t.Lex||{},t.Lex=null,delete t.Lex,i=t.Syntax||{},t.Syntax=null,delete t.Syntax,l=t.Style||{},o=t.Parser||[],r=o.length,n=[],a=0;r>a;a++)u=o[a],c=Be(u,e,s,i,l,f,p,h,m,k,d)||null,c&&(g&W(c)?n=n.concat(c):n.push(c));return t.Parser=n,t.cTokens=m,t.Style=l,t.Comments=k,t.Keywords=d,t.Extra=t.Extra||{},t.__parsed=1,t},Ne="undefined"!=typeof ace?ace:{require:function(){return{}},config:{}},De=Ne.require,$e=Ne.config,Pe=H(De("ace/worker/worker_client").WorkerClient,{constructor:function(t,e,n){var r=this,o=De,l=$e;r.$sendDeltaQueue=r.$sendDeltaQueue.bind(r),r.changeListener=r.changeListener.bind(r),r.onMessage=r.onMessage.bind(r),o.nameToUrl&&!o.toUrl&&(o.toUrl=o.nameToUrl);var s;if(l.get("packaged")||!o.toUrl)s=l.moduleUrl(e,"worker");else{var i=r.$normalizePath;s=i(o.toUrl("ace/worker/worker.js",null,"_"));var a={};t.forEach(function(t){a[t]=i(o.toUrl(t,null,"_").replace(/(\.js)?(\?.*)?$/,""))})}r.$worker=new Worker(s),r.$worker.postMessage({load:!0,ace_worker_base:ce.base+"/"+$e.moduleUrl("ace/worker/json")}),r.$worker.postMessage({init:!0,tlns:a,module:e,classname:n}),r.callbackId=1,r.callbacks={},r.$worker.onmessage=r.onMessage}}),He=H(De("ace/tokenizer").Tokenizer,{constructor:function(t,e){var n,r=this;r.LC=t.Comments.line||null,r.BC=t.Comments.block?{start:t.Comments.block[0][0],end:t.Comments.block[0][1]}:null,r.LC&&(n=g&W(r.LC)?r.LC.map(te).join("|"):te(r.LC),r.rxLine=new RegExp("^(\\s*)(?:"+n+") ?")),r.BC&&(r.rxStart=new RegExp("^(\\s*)(?:"+te(r.BC.start)+")"),r.rxEnd=new RegExp("(?:"+te(r.BC.end)+")\\s*$")),r.DEF=e.DEFAULT,r.ERR=t.Style.error||e.ERROR,r.Keywords=t.Keywords.autocomplete||null,r.Tokens=t.Parser||[],r.cTokens=t.cTokens.length?t.cTokens:null},ERR:null,DEF:null,LC:null,BC:null,rxLine:null,rxStart:null,rxEnd:null,Keywords:null,cTokens:null,Tokens:null,parse:function(t){t=t||"";var e,n,r=t.split(/\r\n|\r|\n/g),o=r.length,l=[];for(n={state:new me,tokens:null},e=0;o>e;e++)n=this.getLineTokens(r[e],n.state,e),l.push(n.tokens);return l},getLineTokens:function(t,e,n){var r,o,l,s,i,a,u,c,f,p,h,g=this,m=g.cTokens,k=g.Tokens,d=k.length,v=null,E=g.DEF,R=g.ERR;for(a=[],p=new ParserStream(t),e=e?e.clone(1):new me(1,1),e.l=1+n,h=e.stack,f=h.length?h[h.length-1]:null,u={type:null,value:""},c=null,f&&_==f.tt&&p.sol()&&h.pop();!p.eol();)if(o=0,c&&c!==u.type?(u.type&&a.push(u),u={type:c,value:p.cur(1),error:v},v=null):u.type&&(u.value+=p.cur(1)),h.length&&x==h[h.length-1].tt||!p.spc()){for(;h.length&&!p.eol();){if(m){for(s=0,l=0;s<m.length;)if(i=m[s++],e.r=c=i.get(p,e),!1!==c){l=1;break}if(l){o=1;break}}if(i=h.pop(),e.r=c=i.get(p,e),!1!==c){i.MTCH&&(be(h,i.sID),e.t=C,e.r=c=R,v=i.err()),o=1;break}if(i.ERR||i.REQ){be(h,i.sID),p.nxt(),e.t=C,e.r=c=R,v=i.err(),o=1;break}}if(!o){if(p.eol())break;for(r=0;d>r;r++){if(i=k[r],e.r=c=i.get(p,e),!1!==c){i.MTCH&&(be(h,i.sID),e.t=C,e.r=c=R,v=i.err()),o=1;break}if(i.ERR||i.REQ){be(h,i.sID),p.nxt(),e.t=C,e.r=c=R,v=i.err(),o=1;break}}if(!o){if(p.eol())break;p.nxt(),e.t=y,e.r=c=E}}}else e.t=y,e.r=c=E;return c&&c!==u.type?(u.type&&a.push(u),a.push({type:c,value:p.cur(1),error:v}),v=null):u.type&&(u.value+=p.cur(1),a.push(u)),u=null,{state:e,tokens:a}},tCL:function(t,e,n,r){function o(t){for(var e=n;r>=e;e++)t(c.getLine(e),e)}var l,s,i,a,u=this,c=e.doc,f=!0,p=!0,h=1/0,m=e.getTabSize(),k=!1;if(u.LC){var d,v=g==W(u.LC)?u.LC[0]:u.LC,E=u.rxLine,R=v+" ";k=e.getUseSoftTabs(),s=function(t,e){var n,r,o=t.match(E);o&&(n=o[1].length,r=o[0].length,a(t,n,r)||" "!=o[0][r-1]||r--,c.removeInLine(e,n,r))},l=function(t,e){(!f||/\S/.test(t))&&(a(t,h,h)?c.insertInLine({row:e,column:h},R):c.insertInLine({row:e,column:h},v))},i=function(t){return E.test(t)},a=function(t,e,n){for(var r=0;e--&&" "==t.charAt(e);)r++;if(0!=r%m)return!1;for(r=0;" "==t.charAt(n++);)r++;return m>2?r%m!=m-1:0==r%m}}else{if(!u.BC)return!1;var v=u.BC.start,w=u.BC.end,C=u.rxStart,y=u.rxEnd;l=function(t,e){i(t,e)||(!f||/\S/.test(t))&&(c.insertInLine({row:e,column:t.length},w),c.insertInLine({row:e,column:h},v))},s=function(t,e){var n;(n=t.match(y))&&c.removeInLine(e,t.length-n[0].length,t.length),(n=t.match(C))&&c.removeInLine(e,n[1].length,n[0].length)},i=function(t,n){if(C.test(t))return!0;for(var r=e.getTokens(n),o=0;o<r.length;o++)if("comment"===r[o].type)return!0}}d=1/0,o(function(t,e){var n=t.search(/\S/);-1!==n?(h>n&&(h=n),p&&!i(t,e)&&(p=!1)):d>t.length&&(d=t.length)}),1/0==h&&(h=d,f=!1,p=!1),k&&0!=h%m&&(h=Math.floor(h/m)*m),o(p?s:l)},tBC:function(t,e,n,r){var o,l,s,i,a,u,c,f,p,h,g,m=this,k=De("ace/token_iterator").TokenIterator,d=De("ace/range").Range,v=m.BC;if(v){if(o=new k(e,r.row,r.column),l=o.getCurrentToken(),s=e.selection,i=s.toOrientedRange(),l&&/comment/.test(l.type)){for(;l&&/comment/.test(l.type);){if(p=l.value.indexOf(v.start),-1!=p){h=o.getCurrentTokenRow(),g=o.getCurrentTokenColumn()+p,c=new d(h,g,h,g+v.start.length);break}l=o.stepBackward()}for(o=new k(e,r.row,r.column),l=o.getCurrentToken();l&&/comment/.test(l.type);){if(p=l.value.indexOf(v.end),-1!=p){h=o.getCurrentTokenRow(),g=o.getCurrentTokenColumn()+p,f=new d(h,g,h,g+v.end.length);break}l=o.stepForward()}f&&e.remove(f),c&&(e.remove(c),a=c.start.row,u=-v.start.length)}else u=v.start.length,a=n.start.row,e.insert(n.end,v.end),e.insert(n.start,v.start);i.start.row==a&&(i.start.column+=u),i.end.row==a&&(i.end.column+=u),e.selection.fromOrientedRange(i)}},indent:function(t){return t.match(/^\s*/)[0]},getNextLineIndent:function(t,e){return e.match(/^\s*/)[0]}}),Qe=function(t,e){var n;return n={getTokenizer:function(){return t},supportGrammarAnnotations:0,createWorker:function(t){if(!n.supportGrammarAnnotations)return null;$e.setModuleUrl("ace/grammar_worker",ce.file);var r=new Pe(["ace"],"ace/grammar_worker","AceGrammarWorker");return r.attachToDocument(t.getDocument()),r.call("Init",[e],function(){r.on("error",function(e){t.setAnnotations(e.data)}),r.on("ok",function(){t.clearAnnotations()})}),r},transformAction:function(){},toggleCommentLines:function(e,n,r,o){return t.tCL(e,n,r,o)},toggleBlockComment:function(e,n,r,o){return t.tBC(e,n,r,o)},getNextLineIndent:function(e,n,r){return t.getNextLineIndent(e,n,r)},checkOutdent:function(){return!1},autoOutdent:function(){},getKeywords:function(){var e=t.Keywords;return e?e.map(function(t){var e=t.word,n=t.meta;return{name:e,value:e,score:1e3,meta:n}}):[]},getCompletions:function(e,n,r,o){var l=t.Keywords;if(!l)return[];var s=o.length;return l.map(function(t){var e=t.word,n=t.meta,r=e.length,l=r>=s&&o==e.substr(0,s);return{name:e,value:e,score:l?1e3-r:0,meta:n}})}}},Ue=function(t,e){var n={DEFAULT:e||r,ERROR:o};t=X(t);var l=je(t);return Qe(new He(l,n),t)};if(ae){var Ke=this;onmessage=function(t){var e=t.data;e.load&&e.ace_worker_base&&(importScripts(e.ace_worker_base),n.call(Ke))}}r="text",o="invalid";var qe={VERSION:"0.7",extend:Y,parse:je,getMode:Ue};return qe});